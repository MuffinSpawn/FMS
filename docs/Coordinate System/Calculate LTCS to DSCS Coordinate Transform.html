<HTML>
<HEAD>
<TITLE>Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi</TITLE>
<META NAME="Author" CONTENT="">
<META NAME="GENERATOR" CONTENT="G Development Environment">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<A NAME="Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi"></A><H2>Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi</H2>
<P>This VI generates a 4x4 transform matrix between a list of four or more coordinates in the Laser Tracker Coordinates System (LTCS) and a list of the equivalent number of coordinates in the Detector Solenoid Coordinate System (DSCS). The matrix is 4x4 to accomodate both displacement (three components) and a rotation matrix (3x3 matrix) while remaining square and invertible. This requires that a constant component set to 1 must be added to each of the coordinates in order that the vectors can be multiplied by the transform matrix. </P>
<P></P>
<P>Given the equation y = Mx, where y are the DSCS coordinates and x are the LTCS cordinates, the transform matrix M can be found by multiplying the column vectors y by the Moore-Penrose Pseudo Inverse of of the column vectors x. Calculation of the pseudo inverse requires a full rank design matrix (x). This is why at least four vectors in each coordinate system are required despite the fact that only six total vectors are needed to calculate the three displacements and three rotational angles. Note that the lists of coordinates (row vectors) passed to the VI are transposed to produce the column vector matrices y and x.</P>
<P><IMG SRC="images/Calculate LTCS to DSCS Coordinate Transformc.png" ALT="Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi"></P>
<P><IMG SRC="images/Calculate LTCS to DSCS Coordinate Transformp.png" ALT="Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi"></P>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/c2ddbl.png" ALT="c2ddbl"></P>
</TD>
<TD>
<B>LTCS Coordinate List</B> <P>Cartesian Laser Tracker Coordinate System row 3-vectors.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/cdbl.png" ALT="cdbl"></P>
</TD>
<TD>
<B>Numeric</B> </TD>
</TR>
</Table>
</UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/c2ddbl.png" ALT="c2ddbl"></P>
</TD>
<TD>
<B>DSCS Coordinate List</B> <P>Cartesian Detector Solenoid Coordinate System row 3-vectors.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/cdbl.png" ALT="cdbl"></P>
</TD>
<TD>
<B>Numeric</B> </TD>
</TR>
</Table>
</UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/cerrcodeclst.png" ALT="cerrcodeclst"></P>
</TD>
<TD>
<B>error in (no error)</B> <P><B>error in</B> describes error conditions that occur before this node runs. This input provides standard error in functionality.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/cbool.png" ALT="cbool"></P>
</TD>
<TD>
<B>status</B> <P><B>status</B> is TRUE (X) if an error occurred before this node ran or FALSE (checkmark) to indicate a warning or that no error occurred before this node ran. The default is FALSE.</P>
</TD>
</TR>
</Table>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/ci32.png" ALT="ci32"></P>
</TD>
<TD>
<B>code</B> <P><B>code</B> is the error or warning code. The default is 0.</P>
</TD>
</TR>
</Table>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/cstr.png" ALT="cstr"></P>
</TD>
<TD>
<B>source</B> <P><B>source</B> specifies the origin of the error or warning and is, in most cases, the name of the node that produced the error or warning. The default is an empty string.</P>
</TD>
</TR>
</Table>
</UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/i2ddbl.png" ALT="i2ddbl"></P>
</TD>
<TD>
<B>transform matrix</B> <P>4x4 matrix that converts any Cartesian Laser Tracker Coordinate System column 4-vector matrix to the same but in the Detector Solenoid Coordinate System.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/idbl.png" ALT="idbl"></P>
</TD>
<TD>
<B>Real Matrix Element</B> </TD>
</TR>
</Table>
</UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/ierrcodeclst.png" ALT="ierrcodeclst"></P>
</TD>
<TD>
<B>error out</B> <P><B>error in</B> can accept error information wired from VIs previously called. Use this information to decide if any functionality should be bypassed in the event of errors from other VIs.</P>
<P></P>
<P>Right-click the <B>error in</B> control on the front panel and select <B>Explain Error</B> or <B>Explain Warning</B> from the shortcut menu for more information about the error.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/ibool.png" ALT="ibool"></P>
</TD>
<TD>
<B>status</B> <P><B>status</B> is TRUE (X) if an error occurred or FALSE (checkmark) to indicate a warning or that no error occurred.</P>
<P></P>
<P>Right-click the <B>error in</B> control on the front panel and select <B>Explain Error</B> or <B>Explain Warning</B> from the shortcut menu for more information about the error.</P>
</TD>
</TR>
</Table>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/ii32.png" ALT="ii32"></P>
</TD>
<TD>
<B>code</B> <P><B>code</B> is the error or warning code.</P>
<P></P>
<P>Right-click the <B>error in</B> control on the front panel and select <B>Explain Error</B> or <B>Explain Warning</B> from the shortcut menu for more information about the error.</P>
</TD>
</TR>
</Table>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/istr.png" ALT="istr"></P>
</TD>
<TD>
<B>source</B> <P><B>source</B> describes the origin of the error or warning.</P>
<P></P>
<P>Right-click the <B>error in</B> control on the front panel and select <B>Explain Error</B> or <B>Explain Warning</B> from the shortcut menu for more information about the error.</P>
</TD>
</TR>
</Table>
</UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/i1ddbl.png" ALT="i1ddbl"></P>
</TD>
<TD>
<B>R^2</B> <P>Coefficient of Determination for each coordinate component, including the constant term.</P>
</TD>
</TR>
</Table>
<UL>
<Table>
<TR valign=TOP>
<TD>
<P><IMG SRC="images/idbl.png" ALT="idbl"></P>
</TD>
<TD>
<B>X * Y</B> </TD>
</TR>
</Table>
</UL>
<P><IMG SRC="images/Calculate LTCS to DSCS Coordinate Transformd.png" ALT="Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi"></P>
<HR>
<H3>Position in Hierarchy</H3>
<P><IMG SRC="images/Calculate LTCS to DSCS Coordinate Transformh.png" ALT="Coordinate System.lvlib:Calculate LTCS to DSCS Coordinate Transform.vi"></P>
</BODY>
</HTML>
